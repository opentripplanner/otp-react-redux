{"version":3,"sources":["notification-prefs-pane.js"],"names":["allowedNotificationChannels","type","text","Details","styled","div","NotificationPrefsPane","e","onUserDataChange","props","notificationChannel","phoneNumber","target","value","userData","email","_handleNotificationChannelChange","map","index","_handlePhoneNumberChange","Component","PropTypes","func","isRequired","object"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,2BAA2B,GAAG,CAClC;AACEC,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE;AAFR,CADkC,EAKlC;AACED,EAAAA,IAAI,EAAE,KADR;AAEEC,EAAAA,IAAI,EAAE;AAFR,CALkC,EASlC;AACED,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,IAAI,EAAE;AAFR,CATkC,CAApC,C,CAeA;AACA;;AACA,IAAMC,OAAO,GAAGC,0BAAOC,GAAV,mBAAb;AAIA;;;;;IAGMC,qB;;;;;;;;;;;;;;;;;;uFAM+B,UAAAC,CAAC,EAAI;AAAA,UAC9BC,gBAD8B,GACT,MAAKC,KADI,CAC9BD,gBAD8B;AAEtCA,MAAAA,gBAAgB,CAAC;AAAEE,QAAAA,mBAAmB,EAAEH;AAAvB,OAAD,CAAhB;AACD,K;;+EAE0B,UAAAA,CAAC,EAAI;AAAA,UACtBC,gBADsB,GACD,MAAKC,KADJ,CACtBD,gBADsB;AAE9BA,MAAAA,gBAAgB,CAAC;AAAEG,QAAAA,WAAW,EAAEJ,CAAC,CAACK,MAAF,CAASC;AAAxB,OAAD,CAAhB;AACD,K;;;;;;;6BAES;AAAA,UACAC,QADA,GACa,KAAKL,KADlB,CACAK,QADA;AAAA,UAGNC,KAHM,GAMJD,QANI,CAGNC,KAHM;AAAA,UAINL,mBAJM,GAMJI,QANI,CAINJ,mBAJM;AAAA,UAKNC,WALM,GAMJG,QANI,CAKNH,WALM;AAQR,aACE,0CACE,yGADF,EAIE,6BAAC,yBAAD,QACE,6BAAC,4BAAD,uDADF,EAEE,6BAAC,6BAAD,QACE,6BAAC,iCAAD;AACE,QAAA,IAAI,EAAC,sBADP;AAEE,QAAA,QAAQ,EAAE,KAAKK,gCAFjB;AAGE,QAAA,IAAI,EAAC,OAHP;AAIE,QAAA,KAAK,EAAEN;AAJT,SAMGV,2BAA2B,CAACiB,GAA5B,CAAgC,gBAAiBC,KAAjB;AAAA,YAAGjB,IAAH,QAAGA,IAAH;AAAA,YAASC,IAAT,QAASA,IAAT;AAAA,eAC/B,6BAAC,4BAAD;AACE,UAAA,OAAO,EAAEQ,mBAAmB,KAAKT,IAAxB,GAA+B,SAA/B,GAA2C,SADtD;AAEE,UAAA,GAAG,EAAEiB,KAFP;AAGE,UAAA,KAAK,EAAEjB;AAHT,WAKGC,IALH,CAD+B;AAAA,OAAhC,CANH,CADF,CAFF,CAJF,EAyBE,6BAAC,OAAD,QACGQ,mBAAmB,KAAK,OAAxB,IACC,6BAAC,yBAAD,QACE,6BAAC,4BAAD,mDADF,EAEE,6BAAC,2BAAD;AAAa,QAAA,QAAQ,MAArB;AAAsB,QAAA,IAAI,EAAC,MAA3B;AAAkC,QAAA,KAAK,EAAEK;AAAzC,QAFF,CAFJ,EAOGL,mBAAmB,KAAK,KAAxB,IACC,6BAAC,yBAAD,QACE,6BAAC,4BAAD,yDADF,EAGE,6BAAC,2BAAD;AAAa,QAAA,QAAQ,EAAE,KAAKS,wBAA5B;AAAsD,QAAA,IAAI,EAAC,KAA3D;AAAiE,QAAA,KAAK,EAAER;AAAxE,QAHF,CARJ,CAzBF,CADF;AA2CD;;;;EAnEiCS,gB;;gBAA9Bd,qB,eACe;AACjBE,EAAAA,gBAAgB,EAAEa,mBAAUC,IAAV,CAAeC,UADhB;AAEjBT,EAAAA,QAAQ,EAAEO,mBAAUG,MAAV,CAAiBD;AAFV,C;;eAqENjB,qB","sourcesContent":["import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { ButtonToolbar, ControlLabel, FormControl, FormGroup, ToggleButton, ToggleButtonGroup } from 'react-bootstrap'\nimport styled from 'styled-components'\n\nconst allowedNotificationChannels = [\n  {\n    type: 'email',\n    text: 'Email'\n  },\n  {\n    type: 'sms',\n    text: 'SMS'\n  },\n  {\n    type: 'none',\n    text: 'Don\\'t notify me'\n  }\n]\n\n// Styles\n// HACK: Preverve container height.\nconst Details = styled.div`\n  height: 150px;\n`\n\n/**\n * User notification preferences pane.\n */\nclass NotificationPrefsPane extends Component {\n  static propTypes = {\n    onUserDataChange: PropTypes.func.isRequired,\n    userData: PropTypes.object.isRequired\n  }\n\n  _handleNotificationChannelChange = e => {\n    const { onUserDataChange } = this.props\n    onUserDataChange({ notificationChannel: e })\n  }\n\n  _handlePhoneNumberChange = e => {\n    const { onUserDataChange } = this.props\n    onUserDataChange({ phoneNumber: e.target.value })\n  }\n\n  render () {\n    const { userData } = this.props\n    const {\n      email,\n      notificationChannel,\n      phoneNumber\n    } = userData\n\n    return (\n      <div>\n        <p>\n          You can receive notifications about trips you frequently take.\n        </p>\n        <FormGroup>\n          <ControlLabel>How would you like to receive notifications?</ControlLabel>\n          <ButtonToolbar>\n            <ToggleButtonGroup\n              name='notificationChannels'\n              onChange={this._handleNotificationChannelChange}\n              type='radio'\n              value={notificationChannel}\n            >\n              {allowedNotificationChannels.map(({ type, text }, index) => (\n                <ToggleButton\n                  bsStyle={notificationChannel === type ? 'primary' : 'default'}\n                  key={index}\n                  value={type}\n                >\n                  {text}\n                </ToggleButton>\n              ))}\n            </ToggleButtonGroup>\n          </ButtonToolbar>\n        </FormGroup>\n        <Details>\n          {notificationChannel === 'email' && (\n            <FormGroup>\n              <ControlLabel>Notification emails will be sent out to:</ControlLabel>\n              <FormControl disabled type='text' value={email} />\n            </FormGroup>\n          )}\n          {notificationChannel === 'sms' && (\n            <FormGroup>\n              <ControlLabel>Enter your phone number for SMS notifications:</ControlLabel>\n              {/* TODO: Add field validation. */}\n              <FormControl onChange={this._handlePhoneNumberChange} type='tel' value={phoneNumber} />\n            </FormGroup>\n          )}\n        </Details>\n      </div>\n    )\n  }\n}\n\nexport default NotificationPrefsPane\n"]}