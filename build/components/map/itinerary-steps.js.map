{"version":3,"sources":["itinerary-steps.js"],"names":["ItinerarySteps","array","item","stopId","indexOf","push","props","itinerary","activeLeg","activeStep","steps","legs","map","l","legIndex","s","stepIndex","step","index","relativeDirection","active","icon","html","className","lat","lon","Component","PropTypes","object"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,c;;;;;;;;;;;;;qCAIDC,K,EAAOC,I,EAAM;AAC7B,UAAIA,IAAI,CAACC,MAAL,IAAeF,KAAK,CAACG,OAAN,CAAcF,IAAI,CAACC,MAAnB,MAA+B,CAAC,CAAnD,EAAsD;AACpDF,QAAAA,KAAK,CAACI,IAAN,CAAWH,IAAX;AACD;AACF;;;6BACS;AAAA,wBACqC,KAAKI,KAD1C;AAAA,UACAC,SADA,eACAA,SADA;AAAA,UACWC,SADX,eACWA,SADX;AAAA,UACsBC,UADtB,eACsBA,UADtB;AAER,UAAIC,KAAK,GAAG,EAAZ;AACAH,MAAAA,SAAS,CAACI,IAAV,CAAeC,GAAf,CAAmB,UAACC,CAAD,EAAIC,QAAJ,EAAiB;AAClCJ,QAAAA,KAAK,gCACAA,KADA,sBAEAG,CAAC,CAACH,KAAF,CAAQE,GAAR,CAAY,UAACG,CAAD,EAAIC,SAAJ,EAAkB;AAC/BD,UAAAA,CAAC,CAACD,QAAF,GAAaA,QAAb;AACAC,UAAAA,CAAC,CAACC,SAAF,GAAcA,SAAd;AACA,iBAAOD,CAAP;AACD,SAJE,CAFA,EAAL;AAQD,OATD;AAUA,aACE,0CACGL,KAAK,CAACE,GAAN,CAAU,UAACK,IAAD,EAAOC,KAAP,EAAiB;AAC1B,YAAID,IAAI,CAACE,iBAAL,KAA2B,QAA/B,EAAyC;AACvC,iBAAO,IAAP;AACD;;AACD,YAAMC,MAAM,GAAGH,IAAI,CAACH,QAAL,KAAkBN,SAAlB,IAA+BS,IAAI,CAACD,SAAL,KAAmBP,UAAjE;AACA,YAAMY,IAAI,GAAG,sBAAQ;AACnBC,UAAAA,IAAI,gDAAsCF,MAAM,GAAG,gBAAH,GAAsB,EAAlE,YADe;AAEnBG,UAAAA,SAAS,EAAE;AAFQ,SAAR,CAAb;AAIA,eACE,6BAAC,oBAAD;AACE,UAAA,IAAI,EAAEF,IADR;AAEE,UAAA,KAAK,EAAE,oCAAoBJ,IAApB,CAFT;AAGE,UAAA,QAAQ,EAAE,CAACA,IAAI,CAACO,GAAN,EAAWP,IAAI,CAACQ,GAAhB,CAHZ;AAIE,UAAA,GAAG,EAAEP;AAJP,UADF;AAQD,OAjBA,CADH,CADF;AAsBD;;;;EA5CyCQ,gB;;;;gBAAvB1B,c,eACA;AACjBO,EAAAA,SAAS,EAAEoB,mBAAUC;AADJ,C","sourcesContent":["import { divIcon } from 'leaflet'\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Marker } from 'react-leaflet'\n\nimport { getStepInstructions } from '../../util/itinerary'\n\nexport default class ItinerarySteps extends Component {\n  static propTypes = {\n    itinerary: PropTypes.object\n  }\n  addItineraryStop (array, item) {\n    if (item.stopId && array.indexOf(item.stopId) === -1) {\n      array.push(item)\n    }\n  }\n  render () {\n    const { itinerary, activeLeg, activeStep } = this.props\n    let steps = []\n    itinerary.legs.map((l, legIndex) => {\n      steps = [\n        ...steps,\n        ...l.steps.map((s, stepIndex) => {\n          s.legIndex = legIndex\n          s.stepIndex = stepIndex\n          return s\n        })\n      ]\n    })\n    return (\n      <div>\n        {steps.map((step, index) => {\n          if (step.relativeDirection === 'DEPART') {\n            return null\n          }\n          const active = step.legIndex === activeLeg && step.stepIndex === activeStep\n          const icon = divIcon({\n            html: `<i class=\"fa fa-circle-o\" style=\"${active ? 'color: #ffffff' : ''}\"></i>`,\n            className: ''\n          })\n          return (\n            <Marker\n              icon={icon}\n              title={getStepInstructions(step)}\n              position={[step.lat, step.lon]}\n              key={index}\n            />\n          )\n        })}\n      </div>\n    )\n  }\n}\n"]}